<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Tracker</title>
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGwSURBVFhH7ZY9TsNAEIVnbQkhJCSkSBQUFJRIlJTQ0yAKJI7AETgCR+AIHIEjcASOwBEQBQUFBQUFEhISQiDx4zfOLI7XWfPjNaLIJ43Wa3vfeN7MrJ2mGjVqjI4wvAyTZJGxCJtNxhwsw2H4HN6Fp+F+eAEmYTyPQhR/Ca/D5/AjxE8hPg3vQ3wSLsAJGM+jEMXxdXgT3ofv4WeIr8LH8Da8DPGpRXEK4vMQxXfhQ/gWfoT4LHwK70IUX4SzMJ5HIYpPwbPwInwJUZz7PQ9RHJ+HszCeRyGKz8GV8Dp8DlEcn4Qojq/CJRjPoxDFl+FG+BS+hiiOT0IUxwfhBoznUYjiW+FheBKiOD4JURzvheswnkchiu+Ex+FpiOL4JERxvBtuwHgehSh+EB6FpyGK45MQxfFOuAXjeRSi+FF4Ep6FKI5PQhTH2+EmjOdRiOKn4Xl4EaI4PglRHG+FWzCeRyGKX4aX4XmI4vgkRHG8GW7DeB6FKH4dXoXnIYrjkxDF8Ua4A+N5FNZfxRo1/jdS6Qu/J+AgmA5g7gAAAABJRU5ErkJggg==">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/unit-tracker.css">
</head>
<body>
    <div class="page-container">
        <div class="status-bar" id="status-bar"></div>
        <div class="stats-bar">
            <div class="stat-box">
                <div class="stat-value" id="units-count">0</div>
                <div class="stat-label">Active Units</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="talkgroups-count">0</div>
                <div class="stat-label">Active Talkgroups</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="events-rate">0/s</div>
                <div class="stat-label">Events Rate</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="transmitting-count">0</div>
                <div class="stat-label">Units Transmitting</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="emergency-count">0</div>
                <div class="stat-label">Emergency Units</div>
            </div>
        </div>
        <div class="color-key">
            <div class="key-item">
                <div class="unit-dot active"></div>
                <span>Active</span>
            </div>
            <div class="key-item">
                <div class="unit-dot transmitting-call"></div>
                <span>Voice Call</span>
            </div>
            <div class="key-item">
                <div class="unit-dot transmitting-location"></div>
                <span>Location Update</span>
            </div>
            <div class="key-item">
                <div class="unit-dot transmitting-data"></div>
                <span>Data</span>
            </div>
            <div class="key-item">
                <div class="unit-dot transmitting-ackresp"></div>
                <span>ACK/Response</span>
            </div>
            <div class="key-item">
                <div class="unit-dot emergency"></div>
                <span>Emergency</span>
            </div>
            <div class="key-item">
                <div class="unit-dot offline"></div>
                <span>Offline</span>
            </div>
            <div class="key-item">
                <div class="unit-dot active recent"></div>
                <span>Recent</span>
            </div>
            <div class="key-item">
                <div class="unit-dot active stale"></div>
                <span>Stale</span>
            </div>
            <div class="key-item filter">
                <select id="time-filter" class="time-filter">
                    <option value="0">Show All</option>
                    <option value="1">Last 1 min</option>
                    <option value="5">Last 5 min</option>
                    <option value="10">Last 10 min</option>
                    <option value="15">Last 15 min</option>
                    <option value="30">Last 30 min</option>
                    <option value="60">Last 60 min</option>
                </select>
            </div>
        </div>
        <div class="sort-controls">
            <select id="talkgroup-sort" class="sort-select">
                <option value="id">Talkgroup ID</option>
                <option value="first-seen">First Seen</option>
                <option value="last-seen">Last Seen</option>
                <option value="unit-count">Unit Count</option>
                <option value="event-count">Event Count</option>
            </select>
            <button id="sort-direction" class="sort-button">â†“</button>
        </div>
        <div class="dashboard">
            <div id="unit-groups-container">
                <!-- Talkgroups will be dynamically added here -->
            </div>
        </div>
    </div>

    <script type="module">
        import { initHeader } from './js/modules/header.js';
        initHeader();
    </script>
    <script src="js/utils.js" type="module"></script>
    <script src="js/modules/websocket.js" type="module"></script>
    <script src="js/modules/units.js" type="module"></script>
    <script src="js/modules/talkgroups.js" type="module"></script>
    <script src="js/modules/unit-tracker.js" type="module"></script>
</body>
</html>
