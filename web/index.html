<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tr-engine</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif; background: #0d1117; color: #c9d1d9; min-height: 100vh; display: flex; align-items: center; justify-content: center; }

  .container { max-width: 480px; width: 100%; padding: 32px; }

  h1 { font-size: 24px; font-weight: 600; color: #e6edf3; margin-bottom: 4px; }
  .subtitle { font-size: 14px; color: #8b949e; margin-bottom: 32px; }

  .cards { display: flex; flex-direction: column; gap: 12px; }

  a.card { display: block; padding: 16px 20px; background: #161b22; border: 1px solid #30363d; border-radius: 8px; text-decoration: none; color: #c9d1d9; transition: border-color 0.15s, background 0.15s; }
  a.card:hover { border-color: #58a6ff; background: #1c2333; }

  .card-title { font-size: 15px; font-weight: 600; color: #e6edf3; margin-bottom: 4px; }
  .card-desc { font-size: 13px; color: #8b949e; }

  .health { margin-top: 32px; font-size: 12px; color: #8b949e; text-align: center; }
  .health a { color: #58a6ff; text-decoration: none; }
  .health a:hover { text-decoration: underline; }
</style>
</head>
<body>

<div class="container">
  <h1>tr-engine</h1>
  <p class="subtitle">trunk-recorder backend</p>

  <div class="cards" id="cards"></div>

  <div class="health">
    <a href="/api/v1/health">/api/v1/health</a>
  </div>
</div>

<script>
fetch('/api/v1/pages')
  .then(r => r.json())
  .then(pages => {
    const el = document.getElementById('cards');
    for (const p of pages) {
      const a = document.createElement('a');
      a.className = 'card';
      a.href = p.path;
      a.innerHTML = '<div class="card-title">' + p.title + '</div>'
        + (p.description ? '<div class="card-desc">' + p.description + '</div>' : '');
      el.appendChild(a);
    }
  });
</script>

</body>
</html>
